function clearErrorFields(a){$("."+a+".contact-form-error").html(""),$("."+a+".contact-form-error").hide()}function showError(a,b){$("."+a+".contact-form-error").html("<p>"+b+"</p>"),$("."+a+".contact-form-error").show()}function validateEmail(a){var b=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}function validatePhone(a){var b=/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/;return b.test(a)}$(document).ready(function(){$(document).foundation(),$(".contact-form").on("submit",function(){var a=this,b=$(a).attr("data-form");return clearErrorFields(b),""==$("."+b+" .contact_name").val()?showError(b,"You are missing the Contact Name field."):""==$("."+b+" .business_name").val()?showError(b,"You are missing the Buisness Name field."):""==$("."+b+" .email_address").val()?showError(b,"You are missing the Email field."):validateEmail($("."+b+" .email_address").val().trim())?""==$("."+b+" .contact_number").val()?showError(b,"You are missing the Phone Number field."):($(a).find(".form-submit-btn").hide(),$(a).find(".loading-symbol").show(),$.ajax({url:"/business/request_more_info",type:"POST",data:$(a).serialize(),dataType:"json",error:function(c){$(a).find(".loading-symbol").hide(),showError(b,"Oh no! Something went wrong. Please try again?"),$(a).find(".form-submit-btn").show()},success:function(c){$(a).find(".loading-symbol").hide(),"success"==c.result?($(a).hide(),$("."+b+".contact-form-thanks").show()):(showError(b,c.msg),$(a).find(".form-submit-btn").show())}})):showError(b,"This is an invalid email address."),!1})});